webpackJsonp([37],{"9WL6":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book-box"},[n("div",{staticClass:"book-header"},[n("h1",[t._v(t._s(t._f("entity2HTML")(t.book.name)))])]),n("div",[n("div",{staticClass:"book-tree-box"},[t.isMounted?n("Tree",{attrs:{data:t.treeData,render:t.renderContent,"empty-text":"暂无章节"}}):t._e()],1),n("div",{staticClass:"book-content-box"},[n("h2",{staticClass:"book-chapter-name"},[t._v(t._s(t.chapter.name))]),n("div",{staticClass:"golang123-editor golang123-richtxt",domProps:{innerHTML:t._s(t.chapter.htmlContent)}})])])])},i=[],r={render:o,staticRenderFns:i};e.a=r},"H/nQ":function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"body{background-color:#e1e1e1}.book-box{width:1200px;margin:0 auto;background-color:#fff}.book-header{height:55px;padding-left:20px;border-bottom:1px solid #e2e2e2}.book-header h1{line-height:55px;font-size:26px}.book-tree-box{display:inline-block;vertical-align:top;width:320px;padding-left:20px;margin-top:4px;margin-bottom:4px;border-right:1px solid #e2e2e2;min-height:600px}.book-tree-link:hover{text-decoration:none}.book-tree-link:hover span{color:#348eed!important}.book-content-box{width:840px;display:inline-block;vertical-align:top;margin-left:19px;margin-top:4px}.book-chapter-name{font-size:26px;margin-top:10px;margin-bottom:10px}",""])},IMRX:function(t,e,n){"use strict";var o=n("//Fk"),i=n.n(o),r=n("V8bM"),a=n("b1Yp"),s=n("kcnK");e.a={validate:function(t){return!!t.params.id},data:function(){return{}},asyncData:function(t){var e=t.query||{},n=t.params.id,o=e.chapterID,a=void 0,l=void 0;return i.a.all([r.a.getBook({client:t.req,params:{id:n}}),r.a.getBookChapters({client:t.req,params:{id:n}})]).then(function(e){if(!(l=e[0].data.book))return void t.error({statusCode:404,message:"Page not found"});for(var n=e[1].data.chapters||[],i=0;i<n.length;i++)n[i].expand=!0;return a=Object(s.a)(n,{titleKey:"name",dataKeys:["expand"]}),o=o||a[0].id,r.a.getBookChapter({client:t.req,params:{chapterID:o}})}).then(function(e){return e.data.chapter.bookID!==l.id?t.error({statusCode:404,message:"Page not found"}):{isMounted:!1,book:l,treeData:a,chapter:e.data.chapter,user:t.user}}).catch(function(e){console.log(e),t.error({statusCode:404,message:"Page not found"})})},mounted:function(){this.isMounted=!0,window.hljs.initHighlightingOnLoad()},head:function(){return{title:a.a.entity2HTML(this.book.name)+" - "+a.a.entity2HTML(this.chapter.name),link:[{rel:"stylesheet",href:"/styles/editor/simplemde.min.css"},{rel:"stylesheet",href:"/styles/highlight/codestyle.css"}],script:[{src:"/javascripts/highlight/highlight.min.js"}]}},layout:"nosidebar",filters:{entity2HTML:a.a.entity2HTML},methods:{renderContent:function(t,e){var n=(e.root,e.node),o=e.data,i=!(!n.children||!n.children.length);return t("span",{style:{display:"inline-block",width:"100%"}},[t("a",{attrs:{href:"/book/"+this.book.id+"?chapterID="+o.id,class:"book-tree-link"},style:{cursor:"pointer"}},[t("Icon",{props:{type:i?"ios-folder-outline":"ios-paper-outline"},style:{marginRight:"8px"}}),t("span",{style:{color:this.chapter&&o.id===this.chapter.id?"#348eed":"#333"}},o.title)]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}})])}}}},OXbH:function(t,e,n){"use strict";function o(t){n("QcTq")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("IMRX"),r=n("9WL6"),a=n("VU/8"),s=o,l=a(i.a,r.a,!1,s,null,null);e.default=l.exports},QcTq:function(t,e,n){var o=n("H/nQ");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("rjj0")("3a1d9e22",o,!0)},b1Yp:function(t,e,n){"use strict";var o={trimImg:function(t){return t=t.replace(/<\s*img\s+.*?\/?\s*>/g,"")},entity2HTML:function(t){var e={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'},n=/&(lt|gt|nbsp|amp|quot);/gi;return t.replace(n,function(t,n){return e[n]})}};e.a=o},kcnK:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(t,e){if(!t||t.length<=0)return null;e=e||{titleKey:"title"};var n=t.slice(),o={id:0,title:"无",depth:0,children:[]},i=[];for(i.push(o);i.length;){for(var r=i[0],a=n.length-1;a>=0;a--)if(n[a].parentID=n[a].parentID||0,n[a].parentID===r.id){var s={id:n[a].id,title:n[a][e.titleKey],depth:r.depth+1,children:[]};if(e.dataKeys)for(var l=0;l<e.dataKeys.length;l++){var c=e.dataKeys[l];s[c]=n[a][c],console.log(n[a].id,c,n[a][c])}i.push(s),r.children.push(s),n.splice(a,1)}i.splice(0,1)}return o.children}}});
//# sourceMappingURL=_id.9c27f24dd23687709c27.js.map