webpackJsonp([27],{"5U+l":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book-box"},[n("div",{staticClass:"book-header"},[n("h1",[t._v(t._s(t._f("entity2HTML")(t.book.name)))])]),n("div",[n("div",{staticClass:"book-tree-box"},[t.isMounted?n("Tree",{attrs:{data:t.treeData,render:t.renderContent,"empty-text":"暂无章节"}}):t._e()],1),n("div",{staticClass:"book-content-box"},[n("h2",{staticClass:"book-chapter-name"},[t._v(t._s(t.chapter.name))]),n("div",{staticClass:"golang123-editor golang123-richtxt",domProps:{innerHTML:t._s(t.chapter.htmlContent)}}),n("div",{staticClass:"book-prev-next"},[t.prevChapter?n("div",{staticClass:"book-prev"},[t._v("上一篇: "),n("a",{attrs:{href:"/book/"+t.book.id+"?chapterID="+t.prevChapter.id}},[t._v(t._s(t.prevChapter.title))])]):t._e(),t.nextChapter?n("div",{staticClass:"book-next"},[t._v("下一篇: "),n("a",{attrs:{href:"/book/"+t.book.id+"?chapterID="+t.nextChapter.id}},[t._v(t._s(t.nextChapter.title))])]):t._e()]),n("baidu-banner")],1)])])},i=[],a={render:r,staticRenderFns:i};e.a=a},"69lF":function(t,e,n){"use strict";var r=n("FhoZ"),i=n.n(r);e.a={data:function(){return{allowBaiduAd:i.a.allowBaiduAd}},mounted:function(){this.$nextTick(function(){this.createAd()})},methods:{createAd:function(){this.allowBaiduAd&&window.BAIDU_CLB_fillSlotAsync(i.a.baiduAd.banner2,"banner")}}}},IMRX:function(t,e,n){"use strict";var r=n("//Fk"),i=n.n(r),a=n("V8bM"),o=n("b1Yp"),l=n("kcnK"),s=n("nztT");e.a={validate:function(t){return!!t.params.id},asyncData:function(t){var e=t.query||{},n=t.params.id,r=e.chapterID,o=void 0,s=void 0;return i.a.all([a.a.getBook({client:t.req,params:{id:n}}),a.a.getBookChapters({client:t.req,params:{id:n}})]).then(function(e){if(!(s=e[0].data.book)||"book_unpublish"===s.status)return void t.error({statusCode:404,message:"Page not found"});for(var n=e[1].data.chapters||[],i=0;i<n.length;i++)n[i].expand=!0;return o=Object(l.d)(n,{titleKey:"name",dataKeys:["expand"]}),r=parseInt(r||o[0].id),a.a.getBookChapter({client:t.req,params:{chapterID:r}})}).then(function(e){return e.data.chapter.bookID!==s.id?t.error({statusCode:404,message:"Page not found"}):{isMounted:!1,book:s,treeData:o,chapter:e.data.chapter,prevChapter:Object(l.b)(Object(l.c)(r,o),o),nextChapter:Object(l.a)(Object(l.c)(r,o),o),user:t.user}}).catch(function(e){console.log(e),t.error({statusCode:404,message:"Page not found"})})},mounted:function(){this.isMounted=!0,window.hljs.initHighlightingOnLoad()},head:function(){return{title:o.a.entity2HTML(this.book.name)+" - "+o.a.entity2HTML(this.chapter.name),link:[{rel:"stylesheet",href:"/styles/editor/simplemde.min.css"},{rel:"stylesheet",href:"/styles/highlight/codestyle.css"}],script:[{src:"/javascripts/highlight/highlight.min.js"}]}},layout:"nosidebar",filters:{entity2HTML:o.a.entity2HTML},methods:{renderContent:function(t,e){var n=(e.root,e.node),r=e.data,i=!(!n.children||!n.children.length);return t("span",{style:{display:"inline-block",width:"100%"}},[t("a",{attrs:{href:"/book/"+this.book.id+"?chapterID="+r.id,class:"book-tree-link"},style:{cursor:"pointer"}},[t("Icon",{props:{type:i?"ios-folder-outline":"ios-paper-outline"},style:{marginRight:"8px"}}),t("span",{style:{color:this.chapter&&r.id===this.chapter.id?"#348eed":"#333"}},r.title)]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}})])}},components:{"baidu-banner":s.a}}},O2K0:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"body{background-color:#e1e1e1}.book-box{width:1200px;margin:0 auto;background-color:#fff}.book-header{height:55px;padding-left:20px;border-bottom:1px solid #e2e2e2}.book-header h1{line-height:55px;font-size:26px}.book-tree-box{display:inline-block;vertical-align:top;width:320px;padding-left:20px;margin-top:4px;margin-bottom:4px;border-right:1px solid #e2e2e2;min-height:600px}.book-tree-link:hover{text-decoration:none}.book-tree-link:hover span{color:#348eed!important}.book-content-box{width:840px;display:inline-block;vertical-align:top;margin-left:19px;margin-top:4px}.book-chapter-name{font-size:26px;margin-top:10px;margin-bottom:10px}.book-prev-next{padding-top:20px;height:50px;border-bottom:1px solid #e2e2e2}.book-prev-next a{color:#08c!important}.book-prev{float:left}.book-next{float:right}",""])},OXbH:function(t,e,n){"use strict";function r(t){n("PM0+")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("IMRX"),a=n("5U+l"),o=n("VU/8"),l=r,s=o(i.a,a.a,!1,l,null,null);e.default=s.exports},"PM0+":function(t,e,n){var r=n("O2K0");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("54f4543a",r,!0)},VqkK:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.allowBaiduAd?n("div",{attrs:{id:"bookBannerBox"}},[n("div",{attrs:{id:"banner"}})]):t._e()])},i=[],a={render:r,staticRenderFns:i};e.a=a},b1Yp:function(t,e,n){"use strict";var r={trimImg:function(t){return t=t.replace(/<\s*img\s+.*?\/?\s*>/g,"")},entity2HTML:function(t){var e={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'},n=/&(lt|gt|nbsp|amp|quot);/gi;return t.replace(n,function(t,n){return e[n]})}};e.a=r},kcnK:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var r=function(t,e){if(!t||t.length<=0)return null;e=e||{titleKey:"title"};var n=t.slice(),r={id:0,title:"无",depth:0,parentId:0,children:[]},i=[];for(i.push(r);i.length;){for(var a=i[0],o=n.length-1;o>=0;o--)if(n[o].parentID=n[o].parentID||0,n[o].parentID===a.id){var l={id:n[o].id,title:n[o][e.titleKey],depth:a.depth+1,parentId:a.id,children:[]};if(e.dataKeys)for(var s=0;s<e.dataKeys.length;s++){var d=e.dataKeys[s];l[d]=n[o][d]}i.push(l),a.children.push(l),n.splice(o,1)}i.splice(0,1)}return r.children},i=function(t,e){for(var n=e.slice(0);n.length;){var r=n[0];if(r.id===t)return r;var i=r.children;i&&i.length>0&&(n=n.concat(i)),n.shift()}return null},a=function(t){if(!t.children||t.children.length<=0)return null;for(;t.children&&t.children.length;)t=t.children[t.children.length-1];return t},o=function(t,e){var n=i(t.parentId,e);if(n){var r=n.children.indexOf(t);if(r>0){var o=n.children[r-1];return a(o)||o}return n}var l=e.indexOf(t),s=e[l-1];return s?a(s)||s:null},l=function(t,e){for(var n=i(t.parentId,e);n;){var r=n.children.indexOf(t);if(n.children[r+1])return n.children[r+1];t=n,n=i(t.parentId,e)}return e[e.indexOf(t)+1]||null},s=function(t,e){if(t.children&&t.children.length>0)return t.children[0];var n=i(t.parentId,e);if(n){var r=n.children.indexOf(t);return n.children[r+1]?n.children[r+1]:l(n,e)}return e[e.indexOf(t)+1]||null}},nztT:function(t,e,n){"use strict";var r=n("69lF"),i=n("VqkK"),a=n("VU/8"),o=a(r.a,i.a,!1,null,null,null);e.a=o.exports}});
//# sourceMappingURL=_id.ac18d10b9aab3ff77cad.js.map