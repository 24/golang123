webpackJsonp([21],{"3G8Z":function(e,t,a){"use strict";var n=a("EuWz"),o=a("Tlu+"),r=a("VU/8"),i=r(n.a,o.a,!1,null,null,null);t.a=i.exports},"73Nc":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"book-chapter-box"},[a("div",[a("div",{staticClass:"book-chapter-tree-box"},[a("div",{staticClass:"book-name-edit-box"},[e.isEditBookName?a("div",{staticClass:"book-name-input-box"},[a("Input",{staticStyle:{width:"180px"},attrs:{value:e.book.name,placeholder:"请输入图书名称",size:"small"},model:{value:e.inputBookName,callback:function(t){e.inputBookName=t},expression:"inputBookName"}}),a("Button",{staticStyle:{float:"right","margin-right":"17px"},attrs:{type:"ghost",size:"small"},on:{click:e.cancelEditBookNameClick}},[e._v("取消")]),a("Button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.onEditBookName}},[e._v("确定")])],1):a("div",[a("h1",{staticClass:"book-name"},[e._v(e._s(e.book.name))]),a("ButtonGroup",{staticClass:"book-name-btngroup",attrs:{shape:"circle"}},[a("Button",{attrs:{type:"primary",icon:"edit",size:"small"},on:{click:e.onEditBookNameClick}}),a("Button",{attrs:{type:"primary",icon:"android-upload",size:"small"},on:{click:e.onPublishBookClick}})],1)],1)]),a("div",{staticClass:"book-chapter-tree",style:{padding:e.treeData.length?"":"12px 0 12px 20px"}},[e.isMounted?a("Tree",{attrs:{data:e.treeData,render:e.renderContent,"empty-text":"暂无章节"}}):e._e()],1),a("div",{staticClass:"book-chapter-create"},[e.isMounted?a("Button",{attrs:{size:"large",type:"primary"},on:{click:e.onCreateChapterClick}},[e._v("创建章节")]):e._e()],1),a("Modal",{attrs:{title:e.createChapterID?"添加子章节":"创建章节"},on:{"on-cancel":e.cancelCreateChapter},model:{value:e.createChapterModalVisible,callback:function(t){e.createChapterModalVisible=t},expression:"createChapterModalVisible"}},[a("Input",{attrs:{placeholder:"章节名称",size:"large"},model:{value:e.createChapterName,callback:function(t){e.createChapterName=t},expression:"createChapterName"}}),a("Row",{staticStyle:{"margin-top":"14px"},attrs:{type:"flex",justify:"space-between"}},[a("Button",{staticStyle:{width:"48%"},attrs:{type:"ghost"},on:{click:e.cancelCreateChapter}},[e._v("取消")]),a("Button",{staticStyle:{width:"48%"},attrs:{type:"primary"},on:{click:e.onCreateChapter}},[e._v("确定")])],1),a("div",{attrs:{slot:"footer"},slot:"footer"})],1),a("Modal",{attrs:{title:"修改章节名称"},on:{"on-cancel":e.cancelEditChapterName},model:{value:e.editChapterNameModalVisible,callback:function(t){e.editChapterNameModalVisible=t},expression:"editChapterNameModalVisible"}},[a("Input",{attrs:{placeholder:"章节名称",size:"large"},model:{value:e.tempChapterName,callback:function(t){e.tempChapterName=t},expression:"tempChapterName"}}),a("Row",{staticStyle:{"margin-top":"14px"},attrs:{type:"flex",justify:"space-between"}},[a("Button",{staticStyle:{width:"48%"},attrs:{type:"ghost"},on:{click:e.cancelEditChapterName}},[e._v("取消")]),a("Button",{staticStyle:{width:"48%"},attrs:{type:"primary"},on:{click:e.onEditChapterName}},[e._v("确定")])],1),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1),a("div",{staticClass:"book-chapter-editor"},[a("h2",{staticClass:"curchapter-name"},[e._v("正在编辑: "+e._s(e.curChapter?e.curChapter.title:""))]),"html"===e.contentType?a("div",{staticClass:"chapter-html-editor"},[a("html-editor",{attrs:{value:e.content,user:e.user},on:{save:e.onContentSave,change:e.onContentChange}})],1):a("md-editor",{ref:"mdEditor",attrs:{value:e.content,user:e.user},on:{save:e.onContentSave,change:e.onContentChange}}),a("div",[e.isMounted?a("Button",{attrs:{size:"large",type:"primary"},on:{click:e.onSaveChapterContent}},[e._v("保存")]):e._e(),"html"===e.contentType?a("span",{staticClass:"crawl-btn",on:{click:e.showCrawlModal}},[e._v("抓取内容")]):e._e()],1)],1),a("Modal",{attrs:{title:"抓取内容"},on:{"on-cancel":e.cancelCrawl},model:{value:e.crawlModalVisible,callback:function(t){e.crawlModalVisible=t},expression:"crawlModalVisible"}},[a("div",[a("Form",{ref:"crawlerForm",attrs:{model:e.crawlerFormData,rules:e.ruleCrawler,"label-width":120}},[a("FormItem",{attrs:{label:"内容选择器",prop:"contentSelector"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("Input",{attrs:{placeholder:"请输入内容选择器"},model:{value:e.crawlerFormData.contentSelector,callback:function(t){e.crawlerFormData.contentSelector=t},expression:"crawlerFormData.contentSelector"}})],1)],1)],1),a("FormItem",{attrs:{label:"url",prop:"url"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("Input",{attrs:{placeholder:"请输入URL"},model:{value:e.crawlerFormData.url,callback:function(t){e.crawlerFormData.url=t},expression:"crawlerFormData.url"}})],1)],1)],1)],1)],1),a("Row",{staticStyle:{"margin-top":"14px"},attrs:{type:"flex",justify:"space-between"}},[a("Button",{staticStyle:{width:"48%"},attrs:{type:"ghost"},on:{click:e.cancelCrawl}},[e._v("取消")]),a("Button",{staticStyle:{width:"48%"},attrs:{type:"primary"},on:{click:e.onCrawl}},[e._v("确定")])],1),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)])},o=[],r={render:n,staticRenderFns:o};t.a=r},"7EVb":function(e,t,a){"use strict";t.a={STATUS_IN_ACTIVE:1,STATUS_ACTIVE:2,STATUS_FROZEN:3}},Cjx2:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"body{background-color:#e1e1e1}.book-chapter-box{background-color:#fff;padding:0 20px 4px 0}.book-name{padding-left:20px;line-height:40px;background-color:#f7f7f7;display:inline-block;vertical-align:top;width:240px;font-size:14px}.book-name-btngroup{float:right;margin-right:17px;margin-top:8px}.book-name-edit-box{font-size:0;height:40px;background-color:#f7f7f7}.book-name-input-box{padding-left:20px;padding-top:10px;font-size:0}.curchapter-name{line-height:40px}.book-chapter-tree-box{width:320px;min-height:600px;padding-bottom:20px;display:inline-block;vertical-align:top;border-right:1px solid #e2e2e2}.book-chapter-tree{padding-left:20px}.book-chapter-editor{margin-left:20px;width:838px;display:inline-block;vertical-align:top}.CodeMirror{height:400px}.book-chapter-create{margin-left:20px}.crawl-btn{color:#08c;margin-left:10px;font-size:12px;cursor:pointer}.chapter-html-editor{margin-bottom:14px}.chapter-html-editor textarea{height:470px}",""])},EuWz:function(e,t,a){"use strict";t.a={props:{value:{type:String,required:!0},user:{type:Object}},data:function(){return{inputValue:this.value||""}},methods:{onSave:function(){this.$emit("save")},onChange:function(){this.$emit("change",this.inputValue)}},head:function(){return{}},mounted:function(){},watch:{value:function(e,t){(e=e||"")!==this.inputValue&&(this.inputValue=e)}}}},MyuZ:function(e,t,a){"use strict";var n=a("pq6b"),o=a("kaMS"),r=a("VU/8"),i=r(n.a,o.a,!1,null,null,null);t.a=i.exports},Q6kV:function(e,t,a){"use strict";function n(e){a("nTe3")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("aRNQ"),r=a("73Nc"),i=a("VU/8"),s=n,l=i(o.a,r.a,!1,s,null,null);t.default=l.exports},"Tlu+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"golang123-editor"},[a("Input",{attrs:{type:"textarea",rows:40},on:{"on-change":e.onChange},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)},o=[],r={render:n,staticRenderFns:o};t.a=r},aRNQ:function(e,t,a){"use strict";var n=a("woOf"),o=a.n(n),r=a("//Fk"),i=a.n(r),s=a("V8bM"),l=a("3G8Z"),c=a("MyuZ"),u=a("y8ae"),d=a("FhoZ"),p=a.n(d),h=a("kcnK");t.a={validate:function(e){return!!e.params.id},data:function(){return{crawlerFormData:{contentSelector:"",url:""},ruleCrawler:{contentSelector:[{required:!0,message:"内容选择器不能为空",trigger:"blur"}],url:[{type:"url",required:!0,message:"无效的URL",trigger:"blur"}]}}},asyncData:function(e){return i.a.all([s.a.getBook({client:e.req,query:{f:"md"},params:{id:e.params.id}}),s.a.getBookChapters({client:e.req,params:{id:e.params.id}})]).then(function(t){var a=t[0].data.book;if(!a)return void e.error({statusCode:404,message:"Page not found"});for(var n=t[1].data.chapters||[],o=0;o<n.length;o++)n[o].expand=!0;var r=Object(h.d)(n,{titleKey:"name",dataKeys:["expand","content","htmlContent","contentType"]});r=r||[];var i=null,s="",l="markdown";return r&&r.length&&(i=r[0]),1===a.contentType?(l="markdown",s=i&&i.content||""):2===a.contentType&&(s=i&&i.htmlContent||"",l="html"),{contentType:l,maxDepth:4,crawlModalVisible:!1,isEditBookName:!1,inputBookName:"",editChapterNameModalVisible:!1,tempChapterID:0,tempChapterName:"",isMounted:!1,user:e.user,book:a,content:s,curChapter:i,createChapterID:0,createChapterName:"",createChapterModalVisible:!1,treeData:r,buttonProps:{type:"ghost",size:"small"}}}).catch(function(t){console.log(t),e.error({statusCode:404,message:"Page not found"})})},mounted:function(){this.isMounted=!0},methods:{showCrawlModal:function(){this.crawlModalVisible=!0},cancelCrawl:function(){this.crawlModalVisible=!1},onCrawl:function(){var e=this;this.$refs.crawlerForm.validate(function(t){if(t){var a={url:e.crawlerFormData.url,contentSelector:e.crawlerFormData.contentSelector};s.a.crawlNotSaveContent({body:a}).then(function(t){if(console.log(t),t.errNo===u.a.ERROR)return void e.$Message.error({duration:p.a.messageDuration,closable:!0,content:t.msg});e.content=t.data.content||"",e.crawlModalVisible=!1}).catch(function(t){e.$Message.error({duration:p.a.messageDuration,closable:!0,content:t.msg})})}})},onEditChapterName:function(){var e=this;s.a.updateBookChapterName({body:{name:this.tempChapterName,id:this.tempChapterID}}).then(function(t){if(t.errNo===u.a.ERROR)e.$Message.error({duration:p.a.messageDuration,closable:!0,content:t.msg});else if(t.errNo===u.a.LOGIN_TIMEOUT)location.href="/signin?ref="+encodeURIComponent(location.href);else if(t.errNo===u.a.SUCCESS){var a=e.getNode(e.tempChapterID);a.title=e.tempChapterName,e.tempChapterID=0,e.tempChapterName="",e.editChapterNameModalVisible=!1,e.$Message.success({duration:p.a.messageDuration,closable:!0,content:"修改成功"})}}).catch(function(t){e.$Message.error({duration:p.a.messageDuration,closable:!0,content:t.message||t.msg})})},cancelEditChapterName:function(){this.tempChapterID=0,this.tempChapterName="",this.editChapterNameModalVisible=!1},onPublishBookClick:function(){var e=this;this.$Modal.confirm({title:"发布图书",content:"确定要发布图书?",onOk:function(){s.a.publishBook({params:{bookID:e.book.id}}).then(function(t){t.errNo===u.a.SUCCESS?e.$Message.success({duration:p.a.messageDuration,closable:!0,content:"发布成功"}):e.$Message.error({duration:p.a.messageDuration,closable:!0,content:t.msg})}).catch(function(t){t="内部错误",e.$Message.error({duration:p.a.messageDuration,closable:!0,content:t})})},onCancel:function(){}})},onEditBookNameClick:function(){this.isEditBookName=!0,this.inputBookName=this.book.name},cancelEditBookNameClick:function(){this.isEditBookName=!1},onEditBookName:function(){var e=this;if(!this.inputBookName)return void this.$Message.error({duration:p.a.messageDuration,closable:!0,content:"图书名称不能为空"});s.a.updateBookName({body:{id:this.book.id,name:this.inputBookName}}).then(function(t){t.errNo===u.a.ERROR?e.$Message.error({duration:p.a.messageDuration,closable:!0,content:t.msg}):t.errNo===u.a.LOGIN_TIMEOUT?location.href="/signin?ref="+encodeURIComponent(location.href):t.errNo===u.a.SUCCESS&&(e.$Message.success({duration:p.a.messageDuration,closable:!0,content:"修改成功"}),e.book.name=t.data.book.name,e.isEditBookName=!1)}).catch(function(t){e.$Message.error({duration:p.a.messageDuration,closable:!0,content:t.message||t.msg})})},onCreateChapterClick:function(){this.createChapterID=0,this.createChapterModalVisible=!0,this.createChapterName=""},cancelCreateChapter:function(){this.createChapterID=0,this.createChapterModalVisible=!1,this.createChapterName=""},getNode:function(e){return Object(h.c)(e,this.treeData)},onCreateChapter:function(){var e=this,t=e.createChapterID;s.a.createBookChapter({body:{name:this.createChapterName,bookID:this.book.id,parentID:t}}).then(function(a){if(a.errNo===u.a.ERROR)e.$Message.error({duration:p.a.messageDuration,closable:!0,content:a.msg});else if(a.errNo===u.a.LOGIN_TIMEOUT)location.href="/signin?ref="+encodeURIComponent(location.href);else if(a.errNo===u.a.SUCCESS){var n={title:a.data.chapter.name,expand:!0,content:"",htmlContent:"",id:a.data.chapter.id,children:[]};if(t){var o=e.getNode(t);o.children.push(n)}else e.treeData.push(n);e.createChapterModalVisible=!1,e.createChapterName="",e.createChapterID=0,e.selectChapter({id:a.data.chapter.id})}}).catch(function(t){e.$Message.error({duration:p.a.messageDuration,closable:!0,content:t.message||t.msg})})},onSaveChapterContent:function(){var e=this,t={chapterID:this.curChapter.id};"html"===this.contentType?t.htmlContent=this.content:t.content=this.content,s.a.saveBookChapterContent({body:t}).then(function(t){if(t.errNo===u.a.ERROR)e.$Message.error({duration:p.a.messageDuration,closable:!0,content:t.msg});else if(t.errNo===u.a.LOGIN_TIMEOUT)location.href="/signin?ref="+encodeURIComponent(location.href);else if(t.errNo===u.a.SUCCESS){var a=e.getNode(e.curChapter.id);"html"===e.contentType?a.htmlContent=e.content:a.content=e.content,e.$Message.success({duration:p.a.messageDuration,closable:!0,content:"保存成功"})}}).catch(function(t){e.$Message.error({duration:p.a.messageDuration,closable:!0,content:t.message||t.msg})})},onContentSave:function(){},onContentChange:function(e){this.content=e},renderContent:function(e,t){var a=this,n=t.root,r=t.node,i=t.data,s=!(!r.children||!r.children.length);return e("span",{style:{display:"inline-block",width:"100%"}},[e("span",{style:{cursor:"pointer"},on:{click:this.selectChapter.bind(this,i)}},[e("Icon",{props:{type:s?"ios-folder-outline":"ios-paper-outline"},style:{marginRight:"8px"}}),e("span",{style:{color:this.curChapter&&i.id===this.curChapter.id?"#348eed":"#333"}},i.title)]),e("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[e("Button",{props:o()({},this.buttonProps,{icon:"edit"}),style:{marginRight:"8px"},on:{click:this.showEditChapterNameModal.bind(this,i)}}),e("Button",{props:o()({},this.buttonProps,{icon:"android-add"}),style:{marginRight:"8px",display:i.depth>=this.maxDepth?"none":"inline-block"},on:{click:this.append.bind(this,i)}}),e("Button",{props:o()({},this.buttonProps,{icon:"android-remove"}),on:{click:function(){a.remove(n,r,i)}}})])])},selectChapter:function(e){var t=this.getNode(e.id);this.curChapter=t,console.log(this.contentType),"markdown"===this.contentType?this.content=t.content:"html"===this.contentType&&(this.content=t.htmlContent)},showEditChapterNameModal:function(e){this.tempChapterID=e.id,this.tempChapterName=e.title,this.editChapterNameModalVisible=!0},append:function(e){this.createChapterID=e.id||0,this.createChapterModalVisible=!0},remove:function(e,t,a){var n=this;this.$Modal.confirm({title:"删除章节",content:"确定要删除这个章节?",onOk:function(){s.a.deleteBookChapter({params:{chapterID:a.id}}).then(function(o){if(o.errNo===u.a.SUCCESS){n.$Message.success({duration:p.a.messageDuration,closable:!0,content:"已删除"}),n.curChapter&&n.curChapter.id===a.id&&(n.curChapter=n.treeData[0]);var r=e.find(function(e){return e===t}).parent;if(r){var i=e.find(function(e){return e.nodeKey===r}).node,s=i.children.indexOf(a);i.children.splice(s,1)}else for(var l=0;l<n.treeData.length;l++)if(n.treeData[l]===t.node){n.treeData.splice(l,1);break}}else n.$Message.error({duration:p.a.messageDuration,closable:!0,content:o.msg})}).catch(function(e){e="内部错误",n.$Message.error({duration:p.a.messageDuration,closable:!0,content:e})})},onCancel:function(){}})}},components:{"md-editor":c.a,"html-editor":l.a},head:function(){return{title:"编辑章节",link:[{rel:"stylesheet",href:"/styles/editor/simplemde.min.css"}]}},layout:"nosidebar",middleware:"userRequired"}},kaMS:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"golang123-editor"},[e.isMounted?a("textarea",{ref:"textarea"}):e._e(),a("Modal",{attrs:{title:"上传图片"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[a("Upload",{attrs:{"on-success":e.onUploadCallback,name:"upFile",format:["jpg","jpeg","png","gif"],action:e.uploadURL}},[a("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[e._v("上传图片")])],1)],1),e.isFullscreen?a("div",{staticClass:"editor-fullScreen-save"},[a("Button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保  存")])],1):e._e()],1)},o=[],r={render:n,staticRenderFns:o};t.a=r},kcnK:function(e,t,a){"use strict";a.d(t,"d",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"b",function(){return i}),a.d(t,"a",function(){return l});var n=function(e,t){if(!e||e.length<=0)return null;t=t||{titleKey:"title"};var a=e.slice(),n={id:0,title:"无",depth:0,parentId:0,children:[]},o=[];for(o.push(n);o.length;){for(var r=o[0],i=a.length-1;i>=0;i--)if(a[i].parentID=a[i].parentID||0,a[i].parentID===r.id){var s={id:a[i].id,title:a[i][t.titleKey],depth:r.depth+1,parentId:r.id,children:[]};if(t.dataKeys)for(var l=0;l<t.dataKeys.length;l++){var c=t.dataKeys[l];s[c]=a[i][c]}o.push(s),r.children.push(s),a.splice(i,1)}o.splice(0,1)}return n.children},o=function(e,t){for(var a=t.slice(0);a.length;){var n=a[0];if(n.id===e)return n;var o=n.children;o&&o.length>0&&(a=a.concat(o)),a.shift()}return null},r=function(e){if(!e.children||e.children.length<=0)return null;for(;e.children&&e.children.length;)e=e.children[e.children.length-1];return e},i=function(e,t){var a=o(e.parentId,t);if(a){var n=a.children.indexOf(e);if(n>0){var i=a.children[n-1];return r(i)||i}return a}var s=t.indexOf(e),l=t[s-1];return l?r(l)||l:null},s=function(e,t){for(var a=o(e.parentId,t);a;){var n=a.children.indexOf(e);if(a.children[n+1])return a.children[n+1];e=a,a=o(e.parentId,t)}return t[t.indexOf(e)+1]||null},l=function(e,t){if(e.children&&e.children.length>0)return e.children[0];var a=o(e.parentId,t);if(a){var n=a.children.indexOf(e);return a.children[n+1]?a.children[n+1]:s(a,t)}return t[t.indexOf(e)+1]||null}},nTe3:function(e,t,a){var n=a("Cjx2");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("5f3719d2",n,!0)},pq6b:function(e,t,a){"use strict";var n=a("y8ae"),o=a("7EVb"),r=a("FhoZ"),i=a.n(r);t.a={props:{value:{type:String,required:!0},user:{type:Object}},data:function(){return{isMounted:!1,host:"",simplemde:null,SimpleMDE:null,uploadURL:i.a.uploadURL,modalVisible:!1,toolbar:null,isFullscreen:!1}},methods:{ok:function(){},cancel:function(){},showUpload:function(){if(this.user.status===o.a.STATUS_IN_ACTIVE)return void this.$Message.error({duration:i.a.messageDuration,closable:!0,content:"账号未激活，不能上传图片"});this.modalVisible=!0},onToggleFullScreen:function(e){e.toggleFullScreen(),this.isFullscreen=!this.isFullscreen},onSave:function(){this.$emit("save")},onUploadCallback:function(e,t){if(e)if(e.errNo===n.a.SUCCESS){var a=e.data.url;this.simplemde.setImageURL(a),this.SimpleMDE.drawImage(this.simplemde)}else e.errNo===n.a.IN_ACTIVE?(this.modalVisible=!1,this.$Message.error({duration:i.a.messageDuration,closable:!0,content:"账号未激活，不能上传图片"})):e.errNo===n.a.ERROR?(this.modalVisible=!1,this.$Message.error({duration:i.a.messageDuration,closable:!0,content:e.msg})):e.errNo===n.a.LOGIN_TIMEOUT&&(location.href="/signin?ref="+encodeURIComponent(location.href))}},head:function(){return{script:[{src:"/javascripts/editor/simplemde.js"}]}},mounted:function(){this.isMounted=!0,this.$nextTick(function(){this.host=document.location.hostname;var e=window.SimpleMDE;this.toolbar=[{name:"bold",action:e.toggleBold,className:"fa fa-bold",title:"粗体"},{name:"italic",action:e.toggleItalic,className:"fa fa-italic",title:"斜体"},{name:"heading",action:e.toggleHeadingSmaller,className:"fa fa-header",title:"标题"},"|",{name:"unordered-list",action:e.toggleUnorderedList,className:"fa fa-list-ul",title:"无序列表"},{name:"ordered-list",action:e.toggleOrderedList,className:"fa fa-list-ol",title:"有序列表"},{name:"table",action:e.drawTable,className:"fa fa-table",title:"表格"},{name:"horizontal-rule",action:e.drawHorizontalRule,className:"fa fa-minus",title:"水平分隔线"},"|",{name:"code",action:e.toggleCodeBlock,className:"fa fa-code",title:"代码"},{name:"quote",action:e.toggleBlockquote,className:"fa fa-quote-left",title:"块引用"},{name:"link",action:e.drawLink,className:"fa fa-link",title:"链接"},{name:"image",action:this.showUpload,className:"fa fa-picture-o",title:"上传图片"},"|",{name:"preview",action:e.togglePreview,className:"fa fa-eye no-disable",title:"预览"},{name:"fullscreen",action:this.onToggleFullScreen,className:"fa fa-arrows-alt no-disable no-mobile",title:"全屏"}],this.SimpleMDE=e;var t=new e({element:this.$refs.textarea,promptURLs:!1,spellChecker:!1,toolbar:this.toolbar});this.simplemde=t;var a=e.prototype;a.getImageURL||(a.getImageURL=function(){return this.imageURL},a.setImageURL=function(e){this.imageURL=e});var n=this;this.simplemde.codemirror.on("change",function(){n.$emit("change",n.simplemde.value())}),this.simplemde.value(this.value)})},watch:{value:function(e,t){(e=e||"")!==this.simplemde.value()&&this.simplemde.value(e)}}}},y8ae:function(e,t,a){"use strict";t.a={SUCCESS:0,ERROR:1,LOGIN_TIMEOUT:1001,IN_ACTIVE:1002}}});
//# sourceMappingURL=_id.710230510d5e0456575d.js.map